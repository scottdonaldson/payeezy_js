var Payeezy=function(){function e(){var e,t,a,c,r=[],n=document.getElementsByTagName("input"),i=document.getElementsByTagName("select");for(e=0;e<n.length;e++)t=n[e],c=t.getAttribute("payeezy-data"),c&&(r[c]=t.value);for(e=0;e<i.length;e++)a=i[e],c=a.getAttribute("payeezy-data"),c&&(r[c]=a.value);return r}return{createToken:function(t){this.clientCallback=t;var a,c,r,n,i,d,s,o;a="api-cert.payeezy.com",c=e();for(r in c)c[r]=encodeURIComponent(c[r]);return i={},d=[],this.apikey||(n=400,d.push({description:"Please set the API Key"})),this.mercId||(n=400,d.push({description:"Please set the Merchant Identifier"})),d.length>0?(i.error={messages:d},t(n,i),!1):(s="https://"+a+"/v1/securitytokens?apikey="+this.apikey+"&trtoken="+this.mercId+"&callback=Payeezy.callback&type=payeezy&credit_card.type="+c.card_type+"&credit_card.cardholder_name="+c.cardholder_name+"&credit_card.card_number="+c.cc_number+"&credit_card.exp_date="+c.exp_month+c.exp_year+"&credit_card.cvv="+c.cvv_code,o=document.createElement("script"),o.src=s,void document.head.appendChild(o))},setApiKey:function(e){this.apikey=e},setMerchantIdentifier:function(e){this.mercId=e},callback:function(e){this.clientCallback(e.status,e.results)}}}();